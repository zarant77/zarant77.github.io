!function e(t,n,i){function a(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(r)return r(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return a(n||e)},l,l.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,t,n){!function(e,n,i){"use strict";function a(e){e=e||{};this.options={endpoint:e.endpoint||"https://track.atom-data.io/",apiVersion:"V1",auth:e.auth||"",sdkVersion:e.sdkVersion?"1.5.1+"+e.sdkVersion:"1.5.1",sdkType:e.sdkType?"atom-js+"+e.sdkType:"atom-js"}}function r(t){if(this.params=t||{},"string"!=typeof t.data&&!(t.data instanceof String))try{this.params.data=JSON.stringify(this.params.data)}catch(e){throw new Error("data is invalid - can't be stringified")}this.headers={contentType:"application/json;charset=UTF-8",sdkType:this.params.sdkType,sdkVersion:this.params.sdkVersion},"XDomainRequest"in e&&null!==e.XDomainRequest&&this._isIE()&&this._isIE()<10?(this.params.endpoint=this.params.endpoint.replace(/^(http|https):/,location.protocol),this.xhr=new XDomainRequest,this.oldBrowser=!0):(this.xhr=new XMLHttpRequest,this.oldBrowser=!1)}function o(e,t,n){this.error=e,this.response=t,this.status=n}function s(e){var t=this;this.retryTimeout=1e3,e=e||{},this.params=e,this.params.flushInterval=e.flushInterval?1e3*e.flushInterval:1e4,this.params.bulkLen=e.bulkLen?e.bulkLen:3,this.params.bulkSize=e.bulkSize?1024*e.bulkSize:10240,this.params.auth=e.auth?e.auth:"",this.accumulated={},this.atom=new a(e),this.timer||(this.timer=setInterval(function(){t.flush()},this.params.flushInterval))}function u(e){return encodeURI(e).split(/%..|./).length-1}function h(e,t){for(var n=[],i=e.length,a=0;a<e.length;a++)!function(e,a){e(function(e,r,o){if(n[a]={err:e,data:r,status:o},0==--i)return t(n)})}(e[a],a)}e.IronSourceAtom=a,a.prototype.putEvent=function(e,t){if(!(e=e||{}).stream)return t("Stream is required",null,400);if(!e.data)return t("Data is required",null,400);e.apiVersion=this.options.apiVersion,e.sdkVersion=this.options.sdkVersion,e.sdkType=this.options.sdkType,e.auth=e.auth||this.options.auth,e.endpoint=e.endpoint||this.options.endpoint;var n=new r(e);return e.method&&"GET"===e.method.toUpperCase()?n.get(t):n.post(t)},a.prototype.putEvents=function(e,t){return(e=e||{}).stream?e.data&&e.data instanceof Array&&e.data.length?e.method&&"GET"==e.method.toUpperCase()?t("GET is not a valid method for putEvents",null,400):(e.apiVersion=this.options.apiVersion,e.auth=this.options.auth,e.sdkVersion=this.options.sdkVersion,e.sdkType=this.options.sdkType,e.endpoint=this.options.endpoint+"bulk",new r(e).post(t)):t("Data (must be not empty array) is required",null,400):t("Stream is required",null,400)},a.prototype.health=function(e){return new r(this.options).health(e)},void 0!==t&&t.exports&&(t.exports={IronSourceAtom:a,Request:r,Response:o,Tracker:s,taskMap:h}),r.prototype._isIE=function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("msie")&&parseInt(e.split("msie")[1])},r.prototype.post=function(e){if(!this.params.stream||!this.params.data)return e("Stream and Data fields are required",null,400);var t=JSON.stringify({data:this.params.data,table:this.params.stream,apiVersion:this.params.apiVersion,auth:this.params.auth?l.HmacSHA256(this.params.data,this.params.auth).toString(l.enc.Hex):""});this._sendRequest(t,"POST",e)},r.prototype.get=function(e){if(!this.params.stream||!this.params.data)return e("Stream and Data fields are required",null,null);var t,n=JSON.stringify({table:this.params.stream,data:this.params.data,apiVersion:this.params.apiVersion,auth:this.params.auth?l.HmacSHA256(this.params.data,this.params.auth).toString(l.enc.Hex):""});try{t=c.encode(n)}catch(e){throw new Error("Can't encode Base64 data: "+e)}this._sendRequest(t,"GET",e)},r.prototype.health=function(e){this._sendRequest("health","GET",e)},r.prototype._sendRequest=function(e,t,n){var i=this.xhr,a="health"==e?this.params.endpoint+"health":this.params.endpoint+"?data="+e;if(this.oldBrowser){var r;i.open(t,this.params.endpoint),i.onload=function(){r=new o(null,i.responseText,200),n(null,r.data(),r.status)},i.onprogress=function(){},i.ontimeout=function(){r=new o("No connection to server",null,500),n(r.err(),null,r.status)},i.onerror=function(){r=new o("Service Unavailable",null,500),n(r.err(),null,r.status)},"POST"===t?(i.open("POST",this.params.endpoint),i.send(e)):(i.open("GET",a),i.send())}else i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200==i.status?(r=new o(null,i.response,i.status),n(null,r.data(),r.status)):i.status>=400&&i.status<600?(r=new o(i.response,null,i.status),n(r.err(),null,r.status)):0==i.status&&(r=new o("No connection to server",null,500),n(r.err(),null,500)))},"POST"===t?(i.open("POST",this.params.endpoint,!0),this._setRequestHeaders(),i.send(e)):(i.open("GET",a,!0),this._setRequestHeaders(),i.send())},r.prototype._setRequestHeaders=function(){this.xhr.setRequestHeader("Content-type",this.headers.contentType),this.xhr.setRequestHeader("x-ironsource-atom-sdk-type",this.headers.sdkType),this.xhr.setRequestHeader("x-ironsource-atom-sdk-version",this.headers.sdkVersion)},o.prototype.data=function(){if(this.error)return null;try{return JSON.parse(this.response)}catch(e){return this.response}},o.prototype.err=function(){try{return JSON.parse(this.error)}catch(e){return this.error}},e.IronSourceAtom.Tracker=s,s.prototype.track=function(e,t){var n=this;if(void 0===e||0==e.length||0==t.length||void 0===t)throw new Error("Stream name and data are required parameters");if(e in n.accumulated||(n.accumulated[e]=[]),"string"==typeof t||t instanceof String)n.accumulated[e].push(t);else try{n.accumulated[e].push(JSON.stringify(t))}catch(e){throw new Error("Invalid Data - can't be stringified",e)}(n.accumulated[e].length>=n.params.bulkLen||u(n.accumulated[e])>=n.params.bulkSize)&&n.flush(e)},s.prototype.flush=function(e,t){function n(e,t,a,r,o){return o&&(i.accumulated[e]=[],o=!1),i.atom.putEvents({stream:e,data:t},function(i,s,u){return null!=i&&u>=500?a<12e5?void setTimeout(function(){a=2*a+Math.floor(1e3*Math.random()+100),n(e,t,a,r,o)},a):r("Timeout - No response from server",null,408):r(i,s,u)})}var i=this,a=this.retryTimeout;t||(t=function(e,t){return e?new Error(e):t});var r=[];if(e)i.accumulated[e].length>=1&&r.push(function(t){n(e,i.accumulated[e],a,t,!0)});else for(var o in i.accumulated)i.accumulated[o].length>=1&&function(e){r.push(function(t){return n(e,i.accumulated[e],a,t,!0)})}(o);return h(r,t)};var l=l||function(e,t){var n={},i=n.lib={},a=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),r=i.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,a=e.sigBytes;if(this.clamp(),i%4)for(o=0;a>o;o++){var r=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=r<<24-(i+o)%4*8}else for(var o=0;a>o;o+=4)t[i+o>>>2]=n[o>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,i=[],a=0;t>a;a+=4){var o=function(t){var t=t,n=987654321,i=4294967295;return function(){var a=((n=36969*(65535&n)+(n>>16)&i)<<16)+(t=18e3*(65535&t)+(t>>16)&i)&i;return a/=4294967296,(a+=.5)*(e.random()>.5?1:-1)}}(4294967296*(n||e.random()));n=987654071*o(),i.push(4294967296*o()|0)}return new r.init(i,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],a=0;n>a;a++){var r=t[a>>>2]>>>24-a%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new r.init(n,t/2)}},u=o.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],a=0;n>a;a++){var r=t[a>>>2]>>>24-a%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new r.init(n,t)}},h=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,a=n.sigBytes,o=this.blockSize,s=a/(4*o),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,h=e.min(4*u,a);if(u){for(var l=0;u>l;l+=o)this._doProcessBlock(i,l);var c=i.splice(0,u);n.sigBytes-=h}return new r.init(c,h)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),c=(i.Hasher=l.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new c.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);!function(e){var t=l,n=t.lib,i=n.WordArray,a=n.Hasher,r=t.algo,o=[],s=[];!function(){function t(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;64>i;)(function(t){for(var n=e.sqrt(t),i=2;n>=i;i++)if(!(t%i))return!1;return!0})(n)&&(8>i&&(o[i]=t(e.pow(n,.5))),s[i]=t(e.pow(n,1/3)),i++),n++}();var u=[],h=r.SHA256=a.extend({_doReset:function(){this._hash=new i.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],a=n[1],r=n[2],o=n[3],h=n[4],l=n[5],c=n[6],d=n[7],f=0;64>f;f++){if(16>f)u[f]=0|e[t+f];else{var g=u[f-15],p=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,m=u[f-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[f]=p+u[f-7]+y+u[f-16]}var v=i&a^i&r^a&r,w=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=d+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&l^~h&c)+s[f]+u[f];d=c,c=l,l=h,h=o+b|0,o=r,r=a,a=i,i=b+(w+v)|0}n[0]=n[0]+i|0,n[1]=n[1]+a|0,n[2]=n[2]+r|0,n[3]=n[3]+o|0,n[4]=n[4]+h|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,a=8*t.sigBytes;return n[a>>>5]|=128<<24-a%32,n[14+(a+64>>>9<<4)]=e.floor(i/4294967296),n[15+(a+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(h),t.HmacSHA256=a._createHmacHelper(h)}(Math),function(){var e=l,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,a=4*i;t.sigBytes>a&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),o=this._iKey=t.clone(),s=r.words,u=o.words,h=0;i>h;h++)s[h]^=1549556828,u[h]^=909522486;r.sigBytes=o.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}(),e.ironSourceAtomInit=e.ironSourceAtomInit||function(){},e.ironSourceAtomInit();var c={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,i,a,r,o,s,u="",h=0;for(e=c._utf8_encode(e);h<e.length;)a=(t=e.charCodeAt(h++))>>2,r=(3&t)<<4|(n=e.charCodeAt(h++))>>4,o=(15&n)<<2|(i=e.charCodeAt(h++))>>6,s=63&i,isNaN(n)?o=s=64:isNaN(i)&&(s=64),u=u+this._keyStr.charAt(a)+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return u},decode:function(e){var t,n,i,a,r,o,s="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)t=this._keyStr.indexOf(e.charAt(u++))<<2|(a=this._keyStr.indexOf(e.charAt(u++)))>>4,n=(15&a)<<4|(r=this._keyStr.indexOf(e.charAt(u++)))>>2,i=(3&r)<<6|(o=this._keyStr.indexOf(e.charAt(u++))),s+=String.fromCharCode(t),64!=r&&(s+=String.fromCharCode(n)),64!=o&&(s+=String.fromCharCode(i));return s=c._utf8_decode(s)},_utf8_encode:function(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},_utf8_decode:function(e){for(var t="",n=0,i=0,a=0,r=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(a=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&a),n+=2):(a=e.charCodeAt(n+1),i=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&i),n+=3);return t}}}(window,document)},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("atom-sdk-js"),a=Math.floor(Math.pow(10,15)+9*Math.random()*Math.pow(10,15)),r=new i.IronSourceAtom.Tracker({endpoint:"https://track.atom-data.io/"}),o=function(e,t,n){var i=new Date;r.track("is.innovation_studio_playable",{session_id:a,title:"Zynga Poker",version:"1",user_id:"no_user_id",config:0,level_number:1,language:"EN",event_type:e,event_name:t,event_id:n,event_timestamp:new Date(i.getTime()-6e4*i.getTimezoneOffset()).toISOString().slice(0,19).replace("T"," ")})};n.default={adStarted:function(){return o("Started","Started",0)},loading:function(){return o("Loading","Loading",1)},gameStarted:function(){return o("Game Started","GameStarted",2)},exit:function(){return o("Focus","Exit",3)},restore:function(){return o("Focus","Restore",3)},clickTutorial:function(){return o("Click","Tutorial",4)},gameAction:function(){return o("Click","HalfProgress",4)},installFromGame:function(){return o("Convert","FromGame",5)},installFromWin:function(){return o("Convert","FromWin",5)},gameOver:function(){return o("Game over","GameOver",6)}}},{"atom-sdk-js":1}],3:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./file-loader"),o=function(){function e(){i(this,e),this.lang=null,this.startAmount=2e6,this.raiseAmount=5e4,this.playerCards=["heart-k","heart-3"],this.communityCards=["spade-7","club-8","diamond-k"],this.queueCards=["spade-a","spade-k"],this.winningCombination=["heart-k","diamond-k","spade-k"],this.winningHand="THREE_OF_A_KIND",this.pauseBeforeGameover=3,this.hintTimer=1}return a(e,[{key:"init",value:function(e){var t=this;return e?(0,r.loadFile)("assets/configs/"+e+".json").then(function(e){e&&Object.keys(e).forEach(function(n){void 0!==t[n]&&(t[n]=e[n])})}):new Promise(function(e){return e()})}}]),e}();n.default=new o},{"./file-loader":4}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.loadFile=function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.overrideMimeType("application/json"),n.open("GET",e,!0),n.onreadystatechange=function(){if(4===n.readyState){var i=null;if(200===n.status)try{i=JSON.parse(n.responseText)}catch(t){console.error('JSON "%s" is broken. Using default settings.',e)}else console.error('Can\'t load JSON file "%s".',e);t(i)}},n.send(null)})}},{}],5:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e)}return a(e,null,[{key:"load",value:function(e,t,n){var i=document.createElement("style");i.appendChild(document.createTextNode("@font-face {\n  font-family: '"+t+"';\n  src: url('"+e+"');\n  src: url('"+e+"') format('"+n+"');\n}\n")),document.head.appendChild(i);var a=document.createElement("div");a.style.cssText="position: absolute; top: -1000px; font: 1px "+t+";",a.innerHTML=".",document.body.appendChild(a),setTimeout(function(){return a.remove()},1e3)}}]),e}();n.default=r},{}],6:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("./file-loader"),o=function(){function e(){i(this,e),this.PLAYER_NAME="YOU",this.CALL="Call",this.RAISE="Raise",this.BTN_INSTALL="INSTALL NOW FREE",this.YOU_WON="You won %sum%",this.YOU_READY="    You are ready to\nmatch other players",this.TUTORIAL_TEXT="Tap to raise your bet",this.HANDS={STRAIGHT_FLUSH:"Straight Flush",FOUR_OF_A_KIND:"Four of a Kind",FULL_HOUSE:"Full House",FLUSH:"Flush",STRAIGHT:"Straight",THREE_OF_A_KIND:"Three of a Kind",TWO_PAIR:"Two pair",ONE_PAIR:"One pair",HIGH_CARD:"High card"}}return a(e,[{key:"init",value:function(e){var t=this;return e?(0,r.loadFile)("assets/l10n/"+e+".json").then(function(e){e&&Object.keys(e).forEach(function(n){void 0!==t[n]&&(t[n]=e[n])})}):new Promise(function(e){return e()})}}]),e}();n.default=new o},{"./file-loader":4}],7:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(){window.dapi.removeEventListener("ready",a),window.dapi.isViewable()?r({isViewable:!0}):window.dapi.addEventListener("viewableChange",r)}function r(e){if(e.isViewable&&!c){c=!0,o.default.load("assets/fonts/BebasNeue.otf","BebasNeue","opentype"),o.default.load("assets/fonts/Lato-Reg.ttf","Lato","truetype"),o.default.load("assets/fonts/MyriadPro-Cond.otf","MyriadPro","opentype");var t=new Phaser.Game(960,window.innerWidth/window.innerHeight>1.4?540:720,Phaser.AUTO,"zynga-poker-game");t.state.add("boot",new s.default),t.state.add("preloader",new h.default),t.state.add("game",new u.default),t.state.add("gameover",new l.default),t.state.start("boot")}}var o=i(e("./libs/font-loader")),s=i(e("./states/boot")),u=i(e("./states/game")),h=i(e("./states/preloader")),l=i(e("./states/gameover"));window.onerror=function(e,t,n){document.body.innerHTML="<h1>"+t+":"+n+"</h1><pre>"+e+"<pre>"},void 0===window.dapi?r({isViewable:!0}):window.dapi.isReady()?a():window.dapi.addEventListener("ready",a);var c=!1},{"./libs/font-loader":5,"./states/boot":11,"./states/game":12,"./states/gameover":13,"./states/preloader":14}],8:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r={heart:"#940b0b",diamond:"#940b0b",club:"#000000",spade:"#000000"},o={club_:0,clubJ:1,clubQ:2,clubK:3,diamond_:4,diamondJ:5,diamondQ:6,diamondK:7,spade_:8,spadeJ:9,spadeQ:10,spadeK:11,heart_:12,heartJ:13,heartQ:14,heartK:15,back:16},s=function(){function e(t,n,a){i(this,e),this.game=t,this.suit=n.toString().toLowerCase(),this.rang=a.toString().toUpperCase(),this.isOpen=!1,this.group=this.game.add.group(),this.w=92,this.h=133,this.shadow=this.game.add.graphics(-3,0).beginFill(0,.4).drawRoundedRect(0,0,this.w,this.h,5).endFill(),this.shadow.visible=!1,this.bg=this.game.add.graphics(0,0).beginFill(16777215,1).drawRoundedRect(0,0,this.w,this.h,5).endFill(),this.text=this.game.add.text(18,24,this.rang),this.text.anchor.setTo(.5),this.text.font="Lato",this.text.fontSize=32,this.text.fontWeight=800,this.text.addColor(r[this.suit],0),this.smallIcon=this.game.add.sprite(-5,15,"cards",o[this.suit+"_"]),this.smallIcon.scale.setTo(.5),this.bigIcon=this.game.add.sprite(this.w-4,this.h-8,"cards",o[""+this.suit+this.rang]||o[this.suit+"_"]),this.bigIcon.anchor.setTo(1),this.backBg=this.game.add.graphics(0,0).beginFill(4456705,1).drawRoundedRect(5,5,this.w-10,this.h-10,5).endFill(),this.backImg=this.game.add.sprite(this.w/2,this.h/2,"cards",o.back),this.backImg.anchor.setTo(.5),this.overlay=this.game.add.sprite(this.bg.centerX,this.bg.centerY,"card_overlay",o[this.suit+"_"]),this.overlay.anchor.setTo(.5),this.overlay.visible=!1,this.group.add(this.shadow),this.group.add(this.bg),this.group.add(this.text),this.group.add(this.smallIcon),this.group.add(this.bigIcon),this.group.add(this.backBg),this.group.add(this.backImg),this.group.add(this.overlay),this.updateVisibility()}return a(e,[{key:"updateVisibility",value:function(){this.text.visible=this.isOpen,this.smallIcon.visible=this.isOpen,this.bigIcon.visible=this.isOpen,this.backBg.visible=!this.isOpen,this.backImg.visible=!this.isOpen}},{key:"enableShadow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.shadow.visible=e}},{key:"flip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isOpen=e,this.updateVisibility()}},{key:"animateFlip",value:function(){var e=this;this.isOpen=!0,this.game.add.tween(this.bg).to({x:this.bg.x+46},200,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.bg.scale).to({x:0},200,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.backBg).to({x:this.backBg.x+46},200,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.backBg.scale).to({x:0},200,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.backImg.scale).to({x:0},200,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){e.backBg.visible=!1,e.backImg.visible=!1,e.game.add.tween(e.bg).to({x:e.bg.x-46},200,Phaser.Easing.Linear.None,!0),e.game.add.tween(e.bg.scale).to({x:1},200,Phaser.Easing.Linear.None,!0),e.bigIcon.visible=!0,e.bigIcon.scale.x=0,e.bigIcon.x=40,e.game.add.tween(e.bigIcon.scale).to({x:1},200,Phaser.Easing.Linear.None,!0),e.game.add.tween(e.bigIcon).to({x:85},200,Phaser.Easing.Linear.None,!0),e.smallIcon.visible=!0,e.smallIcon.scale.x=0,e.smallIcon.x=50,e.game.add.tween(e.smallIcon.scale).to({x:.5},200,Phaser.Easing.Linear.None,!0),e.game.add.tween(e.smallIcon).to({x:-5},200,Phaser.Easing.Linear.None,!0),e.text.visible=!0,e.text.scale.x=0,e.text.x=50,e.game.add.tween(e.text.scale).to({x:1},200,Phaser.Easing.Linear.None,!0),e.game.add.tween(e.text).to({x:15},200,Phaser.Easing.Linear.None,!0)})}},{key:"bringToTop",value:function(){this.game.world.bringToTop(this.group)}},{key:"moveTo",value:function(e,t){this.x=e,this.y=t,this.group.x=e,this.group.y=t}},{key:"check",value:function(e,t){return this.suit===e.toString().toLowerCase()&&this.rang===t.toString().toUpperCase()}},{key:"win",value:function(e,t){var n=this;this.bringToTop(),this.text.visible=!0,this.smallIcon.visible=!0,this.bigIcon.visible=!0,this.overlay.visible=!0,this.game.add.tween(this.group).to({x:e,y:t},500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.group.scale).to({x:1.5,y:1.5},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){setTimeout(function(){n.game.add.tween(n.group).to({x:e,y:n.group.y+130},500,Phaser.Easing.Linear.None,!0)},300)})}}]),e}();n.default=s},{}],9:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this.game=t,this.group=this.game.add.group();var n=this.game.add.sprite(0,0,"point"),a=this.game.add.sprite(-12,-12,"hand");n.anchor.setTo(.5),a.anchor.setTo(0),this.group.add(n),this.group.add(a),this.group.visible=!1,this.timerId=null,this.isEnabled=!0}return a(e,[{key:"show",value:function(e,t){var n=this;if(this.isEnabled){this.group.x=e,this.group.y=t,this.group.visible=!0,this.game.world.bringToTop(this.group),this.timerId=setInterval(function(){return n.animate(1e3)},1500),this.animate(1e3)}}},{key:"hide",value:function(){this.group.visible=!1,this.timerId&&(clearInterval(this.timerId),this.timerId=null)}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"animate",value:function(e){var t=this;this.game.add.tween(this.group.scale).to({x:.9,y:.9},e,Phaser.Easing.Bounce.Out,!0).onComplete.addOnce(function(){t.group.scale.x=1,t.group.scale.y=1})}}]),e}();n.default=r},{}],10:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e("../libs/l10n")),s=function(){function e(t){i(this,e),this.game=t,this.gradientWidth=10,this.colorOverlay="#444444",this.colorDark="#646464",this.colorLight="#ffffff",this.items=[]}return r(e,[{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.game.add.bitmapData(this.game.width,this.game.height),i=this.game.add.image(0,0,n);i.blendMode=Phaser.blendModes.MULTIPLY,n.context.fillStyle=this.colorOverlay,n.context.fillRect(0,0,this.game.width,this.game.height),n.context.beginPath(),n.context.fillStyle=this.colorLight;var r=this.game.add.text(this.game.world.centerX,this.game.world.centerY-100,o.default.TUTORIAL_TEXT.toUpperCase());r.anchor.setTo(.5),r.font="MyriadPro",r.fontSize=64,r.fontWeight=400,r.addColor("#ffffff",0),this.items=[i,n,r],t.forEach(function(t){var i=a(t,4),r=i[0],o=i[1],s=i[2],u=i[3];if(u)n.context.rect(r,o,s,u),[[r,o+e.gradientWidth,r,o],[r,o+u-e.gradientWidth,r,o+u],[r+e.gradientWidth,o,r,o],[r+s-e.gradientWidth,o,r+s,o]].forEach(function(t){var n=a(t,4),i=n[0],r=n[1],o=n[2],h=n[3],l=e.game.add.bitmapData(e.game.width,e.game.height),c=e.game.add.image(0,0,l);c.blendMode=Phaser.blendModes.MULTIPLY;var d=l.context.createLinearGradient(i,r,o,h);d.addColorStop(0,e.colorLight),d.addColorStop(1,e.colorDark),l.context.fillStyle=d,l.context.rect(i>o?o:i,r>h?h:r,i===o?s:e.gradientWidth,r===h?u:e.gradientWidth),l.context.fill(),e.items.push(c),e.items.push(l)});else{n.context.arc(r,o,s+e.gradientWidth,0,2*Math.PI);var h=e.game.add.bitmapData(e.game.width,e.game.height),l=e.game.add.image(0,0,h);l.blendMode=Phaser.blendModes.MULTIPLY;var c=h.context.createRadialGradient(r,o,s,r,o,s+e.gradientWidth);c.addColorStop(0,e.colorLight),c.addColorStop(1,e.colorDark),h.context.fillStyle=c,h.context.arc(r,o,s+e.gradientWidth,0,2*Math.PI),h.context.fill(),e.items.push(l),e.items.push(h)}n.context.fill()}),this.game.world.bringToTop(n)}},{key:"hide",value:function(){this.items.forEach(function(e){return e.destroy()})}}]),e}();n.default=s},{"../libs/l10n":6}],11:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=i(e("../libs/atom")),l=i(e("../libs/config")),c=i(e("../libs/l10n")),d=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,Phaser.State),u(t,[{key:"preload",value:function(){h.default.adStarted(),this.game.config=l.default,this.game.l10n=c.default,this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.load.image("preloader","assets/loader.png")}},{key:"create",value:function(){h.default.loading(),this.game.input.maxPointers=1,this.game.scale.pageAlignHorizontally=!0,this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.forceOrientation(!0),this.initGlobalVariables()}},{key:"onLoadComplete",value:function(){var e=this,t={};document.location.href.split("?").pop().split("&").forEach(function(e){var n=e.split("="),i=s(n,2),a=i[0],r=i[1];t[a]=r}),this.game.config.init(t.config).then(function(){e.game.l10n.init(e.game.config.lang).then(function(){e.game.state.start("preloader")})})}},{key:"initGlobalVariables",value:function(){this.game.score=0}}]),t}();n.default=d},{"../libs/atom":2,"../libs/config":3,"../libs/l10n":6}],12:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=i(e("../libs/atom")),l=i(e("../prefabs/card")),c=i(e("../prefabs/hint")),d=i(e("../prefabs/tutorial")),f=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.turn=0,e.canMakeMove=!0,e.playerCards=[],e.communityCards=[],e.inactivityTimer=null,e}return o(t,Phaser.State),u(t,[{key:"resetInactivity",value:function(){var e=this;this.hint.hide(),this.inactivityTimer&&clearTimeout(this.inactivityTimer),this.canMakeMove&&(this.inactivityTimer=setTimeout(function(){e.hint.show(e.game.world.centerX+370,e.game.world.centerY+190)},1e3*this.game.config.hintTimer))}},{key:"create",value:function(){var e=this;h.default.gameStarted(),this.game.score=this.game.config.startAmount,this.drawBg(),this.drawScore(),this.drawButton(),this.drawLogo(),this.drawPlayer(),this.drawCallButton(),this.drawRaiseButton(),this.game.config.playerCards.forEach(function(t){var n=t.split("-"),i=s(n,2),a=i[0],r=i[1],o=new l.default(e.game,a,r);e.cardToPlayer(o)}),this.hint=new c.default(this.game),this.tutorial=new d.default(this.game);var t=this.playerCards[0],n=this.playerCards[this.playerCards.length-1];this.tutorial.show([[t.x-20,t.y-20,n.w+n.x-t.x+40,n.h+30],[this.game.world.centerX+370,this.game.world.centerY+190,70]]),this.hint.show(this.game.world.centerX+370,this.game.world.centerY+190)}},{key:"cardToPlayer",value:function(e){var t=this;this.playerCards.push(e);var n=85-7*this.playerCards.length,i=this.playerCards.length*n/2+10;this.playerCards.forEach(function(e,a){e.moveTo(t.game.world.centerX+a*n-i,t.game.world.centerY+100),e.bringToTop(),e.flip(!0),e.enableShadow(a>0)})}},{key:"cardToDesk",value:function(e){this.communityCards.push(e);var t=95*this.communityCards.length-330;e.moveTo(this.game.world.centerX+t,this.game.world.centerY-50),e.bringToTop(),e.animateFlip(),e.enableShadow(!1)}},{key:"drawLogo",value:function(){this.game.add.sprite(20,this.game.world.centerY-240,"is_watermark").alpha=.5}},{key:"drawPlayer",value:function(){this.game.add.sprite(200,this.game.world.centerY+100,"player_icon");var e=this.game.add.text(270,this.game.world.centerY+220,this.game.l10n.PLAYER_NAME);e.anchor.setTo(.5),e.font="MyriadPro",e.fontSize=24,e.fontWeight=200,e.addColor("#ffffff",0)}},{key:"drawBg",value:function(){var e=this.game.add.sprite(0,0,"bg_main");e.top=(e.height-this.game.world.height)/-2,this.game.add.graphics(this.game.world.centerX-104,this.game.world.centerY-90).beginFill(0,.8).drawRoundedRect(0,0,204,26,13).endFill(),this.game.add.graphics(this.game.world.centerX-104,this.game.world.centerY-90).beginFill(16627018,1).drawCircle(10,13,26).endFill();var t=this.game.add.text(this.game.world.centerX-98,this.game.world.centerY-84,"B");t.font="Lato",t.fontSize=12,t.fontWeight=800,t.addColor("#000000",0)}},{key:"drawScore",value:function(){this.scoreText=this.game.add.text(this.game.world.centerX+5,this.game.world.centerY-74,""),this.scoreText.anchor.setTo(.5),this.scoreText.font="Lato",this.scoreText.fontSize=22,this.scoreText.fontWeight=200,this.scoreText.addColor("#fdb54a",0),this.updateScore()}},{key:"drawButton",value:function(){var e=this,t=this.game.world.width-240,n=this.game.world.centerY-240,i=this.game.add.graphics(t,n).beginFill(43520,1).drawRoundedRect(0,0,200,50,5).endFill(),a=this.game.add.text(t+100,n+25+5,this.game.l10n.BTN_INSTALL);a.anchor.setTo(.5),a.font="MyriadPro",a.letterSpacing=1.119,a.fontSize=28,a.fontWeight=400,a.addColor("#f7f7f7",0),i.inputEnabled=!0,i.events.onInputDown.add(this.onInstall,this),setInterval(function(){e.game.add.tween(i).from({x:t-8,y:n-2},1e3,Phaser.Easing.Bounce.Out,!0),e.game.add.tween(i.scale).from({x:1.05,y:1.05},1e3,Phaser.Easing.Bounce.Out,!0),e.game.add.tween(a.scale).from({x:1.05,y:1.05},1e3,Phaser.Easing.Bounce.Out,!0)},1500)}},{key:"drawCallButton",value:function(){var e=this,t=this.game.world.centerY+200,n=this.game.add.sprite(700,t,"btn_call");n.anchor.setTo(.5),n.inputEnabled=!0,n.events.onInputDown.add(function(){return e.onTurn()},this);var i=this.game.add.text(700,t-60,this.game.l10n.CALL);i.anchor.setTo(.5),i.font="MyriadPro",i.fontSize=35,i.fontWeight=200,i.addColor("#1cb1ab",0)}},{key:"drawRaiseButton",value:function(){var e=this,t=this.game.world.centerY+200,n=this.game.add.sprite(850,t,"btn_raise");n.anchor.setTo(.5),n.inputEnabled=!0,n.events.onInputDown.add(function(){return e.onTurn(!0)},this);var i=this.game.add.text(850,t-60,this.game.l10n.RAISE);i.anchor.setTo(.5),i.font="MyriadPro",i.fontSize=35,i.fontWeight=200,i.addColor("#f3b561",0)}},{key:"drawOverlay",value:function(){this.game.add.graphics(0,0).beginFill(0,.7).drawRect(0,0,this.game.world.width,this.game.world.height).endFill()}},{key:"drawWinText",value:function(){var e=this.game.add.group(),t=this.game.add.sprite(0,0,"bg_win"),n=this.game.add.text(0,0,this.game.l10n.HANDS[this.game.config.winningHand]||"");t.anchor.setTo(.5),n.anchor.setTo(.5),n.font="BebasNeue",n.fontSize=80,n.fontWeight=400,n.fill=n.context.createLinearGradient(0,0,0,n.canvas.height),n.fill.addColorStop(.5,"#fbda80"),n.fill.addColorStop(1,"#e58c18"),e.add(t),e.add(n),e.x=this.game.world.centerX,e.y=-100,this.game.add.tween(e).to({y:50},500,Phaser.Easing.Linear.None,!0)}},{key:"drawFinalScore",value:function(){this.scoreText.bringToTop(),this.scoreText.fontWeight=800,this.scoreText.stroke="rgba(0, 0, 0, 0.7)",this.scoreText.strokeThickness=5,this.animateScore(0,this.game.score),this.game.add.tween(this.scoreText).to({y:200,fontSize:72},500,Phaser.Easing.Linear.None,!0)}},{key:"updateScore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.scoreText.text="$"+(e||this.game.score).toString().replace(/(\d)(?=(\d{3})+$)/g,"$1,")}},{key:"onInstall",value:function(){h.default.installFromGame(),window.dapi?window.dapi.openStoreUrl():console.log("Install pressed")}},{key:"animateScore",value:function(e,t){var n=this;return new Promise(function(i){var a=e;n.game.add.tween(n.scoreText).from({fontSize:n.scoreText.fontSize+10},500,Phaser.Easing.Bounce.Out,!0);var r=setInterval(function(){(a+=(t-e)/8)>=t&&(a=t,clearInterval(r),i()),n.updateScore(a)},62.5)})}},{key:"onTurn",value:function(e){var t=this;if(this.hint.hide(),this.resetInactivity(),this.canMakeMove&&!(this.turn>3)){if(e&&(this.canMakeMove=!1,this.animateScore(this.game.score,this.game.score+this.game.config.raiseAmount).then(function(){t.canMakeMove=!0,t.game.score+=t.game.config.raiseAmount})),0===this.turn)this.tutorial.hide(),h.default.clickTutorial(),this.game.config.communityCards.forEach(function(e){var n=e.split("-"),i=s(n,2),a=i[0],r=i[1],o=new l.default(t.game,a,r);t.cardToDesk(o)});else{h.default.gameAction();var n=this.game.config.queueCards[this.turn-1];if(!n)return;var i=n.split("-"),a=s(i,2),r=a[0],o=a[1],u=new l.default(this.game,r,o);this.cardToDesk(u),this.turn>=2&&(this.canMakeMove=!1,this.hint.disable(),this.resetInactivity(),setTimeout(function(){t.drawOverlay();var e=0,n=[[t.game.world.centerX+-80-180,t.game.world.centerY-100],[t.game.world.centerX+-80,t.game.world.centerY-100],[t.game.world.centerX+-80+180,t.game.world.centerY-100]];t.game.config.winningCombination.forEach(function(i){var a=i.split("-"),r=s(a,2),o=r[0],u=r[1];t.playerCards.forEach(function(t){if(t.check(o,u)){var i=n[e++]||[],a=s(i,2),r=a[0],h=a[1];t.win(r,h)}}),t.communityCards.forEach(function(t){if(t.check(o,u)){var i=n[e++]||[],a=s(i,2),r=a[0],h=a[1];t.win(r,h)}})}),setTimeout(function(){t.drawWinText(),t.drawFinalScore(),setTimeout(function(){return t.game.state.start("gameover")},1e3*t.game.config.pauseBeforeGameover)},800)},500))}this.turn++}}}]),t}();n.default=f},{"../libs/atom":2,"../prefabs/card":8,"../prefabs/hint":9,"../prefabs/tutorial":10}],13:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){return e&&e.__esModule?e:{default:e}}(e("../libs/atom")),u=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,Phaser.State),o(t,[{key:"create",value:function(){s.default.gameOver(),this.drawMainBg(),this.drawChips(),this.drawZyngaLogo(),this.drawWinText(),this.drawReadyText(),this.drawButton()}},{key:"getFormattedScore",value:function(){return"$"+this.game.score.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1,")}},{key:"drawMainBg",value:function(){var e=this.game.add.sprite(0,0,"bg_main");e.top=(e.height-this.game.world.height)/-2,this.game.add.graphics(0,0).beginFill(0,.7).drawRect(0,0,this.game.world.width,this.game.world.height).endFill()}},{key:"drawZyngaLogo",value:function(){this.game.add.sprite(this.game.world.centerX,this.game.world.centerY-195,"zynga_logo").anchor.setTo(.5)}},{key:"drawWinText",value:function(){var e=this.game.world.centerY-95;this.game.add.sprite(this.game.world.centerX,e,"bg_win").anchor.setTo(.5);var t=this.game.add.text(this.game.world.centerX,e,(this.game.l10n.YOU_WON||"").replace("%sum%",this.getFormattedScore()));t.anchor.setTo(.5),t.font="BebasNeue",t.fontSize=80,t.fontWeight=400,t.fill=t.context.createLinearGradient(0,0,0,t.canvas.height),t.fill.addColorStop(.5,"#fbda80"),t.fill.addColorStop(1,"#e58c18")}},{key:"drawReadyText",value:function(){var e=this.game.add.text(this.game.world.centerX,this.game.world.centerY+20,this.game.l10n.YOU_READY);e.anchor.setTo(.5),e.font="Lato",e.fontSize=46,e.fontWeight=400,e.lineSpacing=-10,e.addColor("#fac370",0),e.stroke="rgba(0, 0, 0, 0.7)",e.strokeThickness=6}},{key:"drawButton",value:function(){var e=this,t=this.game.world.centerX-150,n=this.game.world.centerY+90,i=this.game.add.graphics(t,n).beginFill(43520,1).drawRoundedRect(0,0,340,70,5).endFill(),a=this.game.add.text(t+170,n+35+5,this.game.l10n.BTN_INSTALL);a.anchor.setTo(.5),a.font="MyriadPro",a.letterSpacing=1.119,a.fontSize=45,a.fontWeight=400,a.addColor("#f7f7f7",0),i.inputEnabled=!0,i.events.onInputDown.add(this.onInstall,this),setInterval(function(){e.game.add.tween(i).from({x:t-8,y:n-2},1e3,Phaser.Easing.Bounce.Out,!0),e.game.add.tween(i.scale).from({x:1.05,y:1.05},1e3,Phaser.Easing.Bounce.Out,!0),e.game.add.tween(a.scale).from({x:1.05,y:1.05},1e3,Phaser.Easing.Bounce.Out,!0)},1500)}},{key:"drawChips",value:function(){var e=this;[[-380,220],[-340,250],[-300,280],[-430,250],[-480,280],[-50,150],[-120,200],[10,180],[300,200],[250,220],[350,230],[380,260],[180,250]].forEach(function(t){for(var n=e.game.world.centerX+t[0],i=t[1],a=0;a<20;a++)!function(t){var a=e.game.add.sprite(e.game.rnd.integerInRange(n,n+20),-100,"chip");a.bringToTop(),setTimeout(function(){e.game.add.tween(a).to({y:e.game.world.centerY+i-10*t},1e3,Phaser.Easing.Bounce.Out,!0)},300*t+e.game.rnd.integerInRange(0,200))}(a)})}},{key:"onInstall",value:function(){s.default.installFromWin(),window.dapi?window.dapi.openStoreUrl():console.log("Install pressed")}}]),t}();n.default=u},{"../libs/atom":2}],14:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.asset=null,e}return r(t,Phaser.State),o(t,[{key:"preload",value:function(){this.asset=this.add.sprite(.5*this.game.width-110,.5*this.game.height-10,"preloader"),this.load.setPreloadSprite(this.asset),this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources()}},{key:"loadResources",value:function(){this.game.load.image("bg_main","assets/bg_main.jpg"),this.game.load.image("btn_call","assets/btn_call.png"),this.game.load.image("btn_raise","assets/btn_raise.png"),this.game.load.image("card_overlay","assets/card_overlay.png"),this.game.load.image("chip","assets/chip.png"),this.game.load.image("hand","assets/hand.png"),this.game.load.image("is_watermark","assets/is_watermark.png"),this.game.load.image("player_icon","assets/player_icon.png"),this.game.load.image("point","assets/point.png"),this.game.load.image("bg_win","assets/you_won_bg.png"),this.game.load.image("zynga_logo","assets/zynga_logo.png"),this.game.load.spritesheet("cards","assets/cards.png",80,105)}},{key:"onLoadComplete",value:function(){this.game.state.start("game")}}]),t}();n.default=s},{}]},{},[7]);
