:root{--bg: #0a0e16;--panel: rgba(10, 14, 22, .92);--overlay: rgba(0, 0, 0, .55);--text: #e6edf7;--muted: rgba(230, 237, 247, .65);--stroke: rgba(255, 255, 255, .14);--stroke-strong: rgba(255, 255, 255, .28);--card: rgba(255, 255, 255, .06);--btn: rgba(255, 255, 255, .08);--btn-hover: rgba(255, 255, 255, .14);--r-sm: 10px;--r: 12px;--r-lg: 14px;--shadow: 0 20px 80px rgba(0, 0, 0, .55);--z-view: 1;--z-osd: 2;--z-dev: 3;--z-top: 4;--z-menu: 5;--z-splash: 100}html,body{margin:0;height:100%;overflow:hidden;background:var(--bg);color:var(--text)}*{box-sizing:border-box}body{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}#scene{position:absolute;inset:0;width:100%;height:100%;z-index:var(--z-view)}#osd{position:absolute;inset:0;width:100%;height:100%;z-index:var(--z-osd)}#dev{position:fixed;z-index:var(--z-dev);top:60px;left:10px;pointer-events:none;font-family:monospace;font-size:12px;line-height:1.25;white-space:pre;color:#c0caf5;background:#050a14a6;padding:8px 10px;border-radius:6px}.topbar{position:absolute;top:10px;left:10px;z-index:var(--z-top);display:flex;gap:10px}.icon-btn{width:40px;height:40px;display:grid;place-items:center;border:1px solid var(--stroke);border-radius:var(--r);background:#0a0e16bf;color:var(--text);font-size:18px;line-height:1;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:background .15s ease,border-color .15s ease,transform .08s ease,opacity .15s ease}.icon-btn:hover{background:#ffffff1a;border-color:var(--stroke-strong)}.icon-btn:active{transform:scale(.96);background:var(--btn-hover)}.icon-btn:focus-visible{outline:none;box-shadow:0 0 0 3px #e6edf72e}.btn{display:inline-flex;justify-content:center;align-items:center;gap:8px;border:0;border-radius:var(--r);padding:12px;cursor:pointer;color:var(--text);background:var(--btn);font-size:16px;text-align:center}.btn:hover{background:var(--btn-hover)}.btn:active{transform:scale(.99)}.btn--wide{width:60%;display:flex;margin:8px 0;padding:10px 12px;font-size:15px}@media(max-width:420px){.btn--wide{width:80%}}.btn--ghost{background:var(--btn);border:1px solid transparent;padding:8px 10px;border-radius:var(--r-sm);font-size:14px}.label{display:block;font-size:12px;opacity:.7;margin:10px 2px 6px}.note{margin:10px 0;font-size:12px;opacity:.65}.row{display:flex;align-items:center;gap:10px;margin:6px 0 10px}.check{display:inline-flex;gap:10px;align-items:center;font-size:13px;opacity:.9}.select{width:100%;border:1px solid rgba(255,255,255,.18);border-radius:var(--r);padding:10px 40px 10px 12px;background-color:#0a0e16f5;color:var(--text);outline:none;font-size:14px;line-height:1.2;appearance:none;background-image:linear-gradient(45deg,transparent 50%,rgba(230,237,247,.9) 50%),linear-gradient(135deg,rgba(230,237,247,.9) 50%,transparent 50%);background-position:calc(100% - 18px) 50%,calc(100% - 12px) 50%;background-size:6px 6px;background-repeat:no-repeat}.select:focus{border-color:#ffffff52;box-shadow:0 0 0 3px #ffffff14}.select option{background:var(--bg);color:var(--text)}.range{width:100%;margin:6px 0 12px;accent-color:rgba(230,237,247,.9)}.val{opacity:.8;margin-left:6px;font-variant-numeric:tabular-nums}.wind-viz{width:42px;height:42px;flex:0 0 42px;flex-shrink:0;display:grid;place-items:center;border-radius:999px;background:#ffffff0f;border:1px solid var(--stroke)}.wind-viz-svg{width:36px;height:36px}.wind-viz-ring{fill:transparent;stroke:#e6edf747;stroke-width:2}.wind-viz-arrow{fill:#e6edf7e6;transform-origin:32px 32px;transform:rotate(0);transition:transform .15s ease}.wind-viz-dot{fill:#e6edf78c}#menu-overlay{position:fixed;inset:0;z-index:var(--z-menu);display:none;pointer-events:auto;background:#0000008c;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);color-scheme:dark}#menu-overlay[data-open=true]{display:block}#menu-panel{position:absolute;top:50%;left:50%;width:min(980px,calc(100vw - 32px));transform:translate(-50%,-50%);border-radius:var(--r-lg);padding:14px;background:var(--panel);color:var(--text);box-shadow:var(--shadow);max-height:calc(100vh - 24px);overflow:hidden;box-sizing:border-box;display:flex;flex-direction:column}#menu-panel[data-screen=root]{width:min(480px,calc(100vw - 32px))}.menu-screen{display:none;flex:1 1 auto;min-height:0}#menu-panel[data-screen=root] .menu-screen[data-screen=root]{display:flex;flex-direction:column;align-items:center}#menu-panel[data-screen=controls] .menu-screen[data-screen=controls],#menu-panel[data-screen=settings] .menu-screen[data-screen=settings]{display:flex;flex-direction:column;max-height:100%;min-height:0}#menu-header{display:flex;flex-direction:column;align-items:center;margin-bottom:14px;flex:0 0 auto}#menu-title{font-size:15px;letter-spacing:.18em;opacity:.85;text-transform:uppercase;margin-bottom:8px;text-align:center}#menu-logo{width:96px;height:auto;opacity:.9;pointer-events:none}#menu-panel[data-screen=controls] #menu-logo,#menu-panel[data-screen=settings] #menu-logo{display:none}.menu-head{display:flex;align-items:center;gap:10px;margin:4px 0 12px;flex:0 0 auto}.menu-head-title{font-size:16px;font-weight:600;opacity:.95}.menu-body{flex:1;min-height:0;overflow:auto;padding-right:6px}.menu-footer{display:flex;justify-content:flex-end;gap:10px;margin-top:12px;padding-top:12px;border-top:1px solid rgba(255,255,255,.1);background:linear-gradient(to bottom,#0a0e1600,#0a0e168c);flex:0 0 auto;position:sticky;bottom:0;z-index:1}.menu-footer .btn{min-width:160px}@media(max-width:520px){.menu-footer{flex-direction:column;align-items:stretch}.menu-footer .btn{width:100%}}@media(max-height:720px){#menu-panel{padding:10px}.btn{padding:10px;font-size:15px}.menu-head{margin:2px 0 8px}.menu-body{padding-right:4px}.menu-footer{margin-top:8px;padding-top:8px;gap:8px}.menu-footer .btn{min-width:120px}}#controls-list{display:grid;grid-template-columns:1fr 1fr;gap:10px 12px}.ctl-spacer{min-height:56px}.ctl-section-title{grid-column:1 / -1;margin-top:6px;margin-bottom:2px}.ctl-row{display:flex;flex-direction:column;gap:4px;padding:6px;border:1px solid var(--stroke);border-radius:var(--r-sm);background:#0000001f}.ctl-name{font-size:12px;opacity:.8}.ctl-cell{display:flex;gap:6px;align-items:center}.ctl-pill{flex:1;border-radius:999px;padding:6px 9px;border:1px solid var(--stroke);background:#0000002e;color:#ffffffeb;cursor:pointer;text-align:left;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;height:36px;display:flex;align-items:center}.ctl-actions{display:flex;gap:6px}.ctl-mini{border-radius:var(--r-sm);padding:5px 7px;border:1px solid var(--stroke);background:#ffffff0f;color:#ffffffe0;cursor:pointer;font-size:11px;min-width:40px}.ctl-binds{display:flex;flex-wrap:wrap;gap:6px;justify-content:flex-end;align-items:center}.ctl-chip{padding:3px 7px;border:1px solid var(--stroke);border-radius:999px;background:#ffffff0f;color:#ffffffeb;font-size:12px;line-height:1.1;white-space:nowrap}.ctl-empty{opacity:.55}.ctl-right{display:flex;gap:6px;flex:0 0 auto}.ctl-mini.ctl-inv{min-width:40px}.ctl-mini.ctl-slot{visibility:hidden;pointer-events:none}.tok{display:inline-block;line-height:1}.tok--dir,.tok--zoom{font-size:13px;text-shadow:.5px 0 rgba(255,255,255,.35),-.5px 0 rgba(255,255,255,.35),0 .5px rgba(255,255,255,.35),0 -.5px rgba(255,255,255,.35)}.tok--key{font-size:12px;opacity:.95}.tok--src{font-size:12px}.tok--meta{font-size:11px;opacity:.85}.tok--sep{margin:0 4px;opacity:.45;font-weight:600;-webkit-user-select:none;user-select:none}#settings-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px 12px}@media(max-width:520px){#settings-grid{grid-template-columns:1fr}}.settings-card{display:flex;flex-direction:column;gap:4px;padding:6px;border:1px solid var(--stroke);border-radius:var(--r-sm);background:#0000001f}.settings-card.spacer{background:transparent;border-color:transparent;padding:0}.settings-card .menu-label{font-size:12px;opacity:.8;margin:0}.settings-card .label{margin-top:0}.menu-row--wind{display:flex;align-items:center;gap:12px}.menu-row--wind .range{flex:1;margin:0}.menu-row--wind .wind-viz{margin-left:0}@media(max-height:720px){#settings-grid{gap:10px 10px}.settings-card{gap:4px;padding:6px}}.splash{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#07090f;z-index:var(--z-splash);opacity:1;transition:opacity .2s ease}.splash--hide{opacity:0;pointer-events:none}.splash .box{display:flex;flex-direction:column;align-items:center;gap:14px;text-align:center}.splash .logo{width:96px;height:96px;image-rendering:auto;filter:drop-shadow(0 0 18px rgba(79,140,255,.25))}.splash .title{font-size:34px;font-weight:700;letter-spacing:.04em;color:#e8ecff;text-shadow:0 0 18px rgba(79,140,255,.2)}.splash .spinner{width:28px;height:28px;border-radius:999px;border:3px solid rgba(232,236,255,.16);border-top-color:#e8ecffd9;animation:splash-spin .9s linear infinite,splash-pulse 1.6s ease-in-out infinite;filter:drop-shadow(0 0 12px rgba(79,140,255,.15))}@keyframes splash-spin{to{transform:rotate(360deg)}}@keyframes splash-pulse{0%,to{opacity:.75}50%{opacity:1}}
